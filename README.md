# 视频音频处理工具（MediaMaster）介绍与安装部署教程

## 项目介绍

MediaMaster 是一款简单高效的视频音频处理工具，提供了直观的网页界面，支持视频和音频的格式转换、压缩以及剪辑功能。该工具基于 Flask 框架开发后端，使用 FFmpeg 进行媒体处理，并通过 Docker 容器化技术实现便捷部署。

### 核心功能



*   **格式转换**：支持多种视频格式（MP4、AVI、MOV、MKV、WebM）和音频格式（MP3、WAV、OGG、FLAC、M4A）之间的相互转换

*   **视频 / 音频压缩**：提供高质量、中等质量和低质量三种压缩选项，平衡文件大小和质量

*   **视频 / 音频剪辑**：支持按时间点剪辑媒体文件，可设置开始时间和结束时间

*   **历史记录**：保存所有处理任务的历史记录，方便查看和下载之前的处理结果

*   **响应式设计**：适配不同屏幕尺寸的设备

*   **日夜模式**：支持界面主题切换，提升用户体验

### 技术架构



*   前端：HTML、Tailwind CSS、JavaScript

*   后端：Python Flask 框架

*   媒体处理：FFmpeg

*   部署方式：Docker 容器化部署

## 安装部署教程

### 前置要求



*   操作系统：CentOS、Ubuntu 或 Debian

*   架构支持：x86\_64 和 ARM64

*   网络连接：构建镜像时需要互联网连接以下载依赖

*   权限：需要 root 权限执行部署脚本

### 安装部署步骤

#### 第一步：构建 Docker 镜像



1.  首先确保您的系统已经安装了 Docker 和 Docker Compose（如果未安装，构建脚本会尝试安装必要的依赖）

2.  克隆项目到本地（或获取项目文件到服务器）

3.  进入项目目录：



```
cd Video-and-audio-processing-tool
```



1.  赋予构建脚本执行权限：



```
chmod +x build-image.sh
```



（1）.  运行构建脚本：



```
./build-image.sh
```

（2）.  运行启动脚本：


```
./offline-deploy.sh
```



1.  脚本执行过程说明：

*   检测系统架构（x86\_64 或 ARM64）

*   创建 bin 目录并下载对应架构的 FFmpeg 静态版本

*   解压并安装 FFmpeg 到项目目录

*   构建 Docker 镜像（标签为 media-processor）

*   将镜像保存为离线部署文件 media-processor-image.tar

1.  构建成功后，会在项目目录下生成 media-processor-image.tar 文件，这是后续离线部署的关键文件

#### 第二步：离线部署应用



1.  确保在项目目录中，赋予部署脚本执行权限：



```
chmod +x offline-deploy.sh
```



1.  使用 root 权限运行部署脚本：



```
sudo ./offline-deploy.sh
```



1.  脚本执行过程说明：

*   检查是否以 root 权限运行

*   检测操作系统类型（CentOS、Ubuntu 或 Debian）

*   检查离线部署所需文件的完整性（镜像文件、前端模板、后端应用等）

*   如果未安装 Docker，会自动安装适合当前系统的 Docker 版本

*   加载之前构建的 Docker 镜像

*   创建持久化存储目录（/opt/media-processor/uploads 和 /opt/media-processor/output）

*   停止并移除已存在的同名容器（如果有）

*   启动新的容器并映射 5000 端口

1.  部署成功后，脚本会输出应用的访问地址，格式类似：



```
应用部署完成！

访问地址: http://192.168.1.100:5000
```

### 验证部署

打开浏览器，访问脚本输出的地址（例如 http:// 服务器 IP:5000），如果看到 MediaMaster 的主页面，则表示部署成功。

您可以尝试上传一个视频或音频文件，进行格式转换、压缩或剪辑操作，验证系统功能是否正常。

## 使用说明



1.  上传文件：通过拖拽或点击 "选择文件" 按钮上传媒体文件

2.  选择处理类型：

*   格式转换：选择目标格式

*   压缩：选择压缩质量

*   剪辑：设置开始时间和结束时间

1.  点击 "开始处理" 按钮

2.  等待处理完成后，可以预览结果并下载处理后的文件

3.  所有处理历史记录会显示在 "处理历史" section 中

## 注意事项



*   处理大文件可能需要较长时间，请耐心等待

*   确保服务器有足够的存储空间，特别是处理大型视频文件时

*   应用默认使用 5000 端口，如果需要更改端口，请修改 offline-deploy.sh 中的端口映射部分

*   处理后的文件保存在 /opt/media-processor/output 目录，上传的原始文件保存在 /opt/media-processor/uploads 目录

通过以上步骤，您可以快速搭建一个功能完善的视频音频处理工具，满足日常的媒体处理需求。
